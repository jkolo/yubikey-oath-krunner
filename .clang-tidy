# SPDX-FileCopyrightText: 2024 YubiKey KRunner Plugin Contributors
# SPDX-License-Identifier: GPL-2.0-or-later
#
# Clang-Tidy configuration based on KDE Krita project standards
# This file controls static analysis checks for code quality

Checks: '-*,bugprone-*,cert-*,cppcoreguidelines-*,modernize-*,performance-*,readability-*,portability-*,clang-analyzer-unix,clang-analyzer-security,clang-analyzer-deadcode,clang-analyzer-core,clang-analyzer-cplusplus,clang-analyzer-optin,llvm-namespace-comment,misc-const-correctness,-modernize-use-trailing-return-type,-modernize-use-nodiscard,-modernize-concat-nested-namespaces,-modernize-raw-string-literal,-modernize-avoid-c-arrays,-cppcoreguidelines-avoid-magic-numbers,-cppcoreguidelines-owning-memory,-cppcoreguidelines-pro-bounds-pointer-arithmetic,-cppcoreguidelines-pro-type-vararg,-cppcoreguidelines-pro-type-reinterpret-cast,-cppcoreguidelines-pro-bounds-constant-array-index,-cppcoreguidelines-special-member-functions,-cppcoreguidelines-avoid-const-or-ref-data-members,-cppcoreguidelines-pro-type-union-access,-cppcoreguidelines-non-private-member-variables-in-classes,-readability-magic-numbers,-readability-identifier-length,-readability-identifier-naming,-readability-redundant-member-init,-readability-else-after-return,-readability-implicit-bool-conversion,-readability-named-parameter,-readability-uppercase-literal-suffix,-readability-function-cognitive-complexity,-readability-static-accessed-through-instance,-readability-convert-member-functions-to-static,-bugprone-easily-swappable-parameters,-bugprone-unchecked-optional-access,-bugprone-return-const-ref-from-parameter,-performance-avoid-endl,-clang-diagnostic-error,-misc-include-cleaner'
# NOTE: WarningsAsErrors='*' means ALL clang-tidy warnings will fail the build
# This enforces maximum code quality but may block compilation until issues are fixed
# To temporarily disable: change to WarningsAsErrors: ''
WarningsAsErrors: '*'
SystemHeaders: false
FormatStyle: 'file'
# Only check source files, not tests or build directories
# Excludes: anything with /build in path, /tests/ directory
HeaderFilterRegex: '^(?!.*/build)(?!.*/tests/).*'
CheckOptions:
  - { key: misc-const-correctness.AnalyzeValues, value: true }
  - { key: misc-const-correctness.WarnPointersAsValues, value: true }
