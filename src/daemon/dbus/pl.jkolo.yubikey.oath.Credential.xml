<!DOCTYPE node PUBLIC "-//freedesktop//DTD D-BUS Object Introspection 1.0//EN"
 "http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
<node>
  <!--
    pl.jkolo.yubikey.oath.Credential:
    @short_description: Credential interface for individual OATH credential

    This interface represents a single OATH credential (TOTP/HOTP) on a YubiKey.
    Each credential is available at path:
    /pl/jkolo/yubikey/oath/devices/<deviceId>/credentials/<credentialId>
  -->
  <interface name="pl.jkolo.yubikey.oath.Credential">

    <!-- Methods -->
    <method name="GenerateCode">
      <arg direction="out" type="(sx)" name="result"/>
      <!-- Structure: (code, validUntil) -->
      <annotation name="org.qtproject.QtDBus.QtTypeName.Out0" value="YubiKeyOath::Shared::GenerateCodeResult"/>
    </method>

    <method name="CopyToClipboard">
      <arg direction="out" type="b" name="success"/>
      <annotation name="org.freedesktop.DBus.Method.NoReply" value="false"/>
    </method>

    <method name="TypeCode">
      <arg direction="in" type="b" name="fallbackToCopy"/>
      <arg direction="out" type="b" name="success"/>
      <annotation name="org.freedesktop.DBus.Method.NoReply" value="false"/>
    </method>

    <method name="Delete">
      <annotation name="org.freedesktop.DBus.Method.NoReply" value="false"/>
    </method>

    <!-- Properties -->
    <property name="FullName" type="s" access="read">
      <annotation name="org.freedesktop.DBus.Property.EmitsChangedSignal" value="const"/>
    </property>

    <property name="Issuer" type="s" access="read">
      <annotation name="org.freedesktop.DBus.Property.EmitsChangedSignal" value="const"/>
    </property>

    <property name="Username" type="s" access="read">
      <annotation name="org.freedesktop.DBus.Property.EmitsChangedSignal" value="const"/>
    </property>

    <property name="RequiresTouch" type="b" access="read">
      <annotation name="org.freedesktop.DBus.Property.EmitsChangedSignal" value="const"/>
    </property>

    <property name="Type" type="s" access="read">
      <annotation name="org.freedesktop.DBus.Property.EmitsChangedSignal" value="const"/>
    </property>

    <property name="Algorithm" type="s" access="read">
      <annotation name="org.freedesktop.DBus.Property.EmitsChangedSignal" value="const"/>
    </property>

    <property name="Digits" type="i" access="read">
      <annotation name="org.freedesktop.DBus.Property.EmitsChangedSignal" value="const"/>
    </property>

    <property name="Period" type="i" access="read">
      <annotation name="org.freedesktop.DBus.Property.EmitsChangedSignal" value="const"/>
    </property>

    <property name="DeviceId" type="s" access="read">
      <annotation name="org.freedesktop.DBus.Property.EmitsChangedSignal" value="const"/>
    </property>

  </interface>

  <!-- Note: Standard D-Bus interfaces (Properties, Introspectable, Peer)
       are handled automatically by Qt's meta-object system and do not need XML definitions
       for adaptor generation. They are implemented in the C++ class. -->

</node>
